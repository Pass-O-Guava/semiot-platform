<!DOCTYPE html>
<html ng-app="semiotApp">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>SemIoT</title>
	<link rel="stylesheet" href="">
	<link rel="stylesheet" type="text/css" href="css/lib/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/lib/datetimepicker.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">

<script src="js/lib/less.js"></script>
</head>
<body>
	<div class="container preloader" ng-controller="AppCtrl">
		<h2>SemIoT Platform</h2>
		<section ng-controller="MeterListCtrl" ng-show="currentView === 'List'">
			<h4>Registered systems ({{ systems.length }})</h4>
			<div class="table-responsive system-list">
				<table class="table table-striped" id="systems-list">
					<thead>
						<tr>
							<th>
								<label>â„–</label>
							</th>							
							<th>
								<input type=text ng-model="search.name" class="form-control" placeholder="Name"/>
							</th>
							<th>
							
							</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-show="systems.length === 0">
							<td>No systems registered</td>
							<td></td>
						</tr>
						<tr ng-repeat="system in systems | filter: filterFunction | orderBy: 'name'" ng-click="showSingle(system)">
							<td>{{ $index + 1 }}</td>
							<td>{{ system.name }}</td>
							<td>
								<button class="btn btn-primary btn-sm">
									<i class="glyphicon glyphicon-remove" ng-click="removeSystem(system.uri); $event.stopPropagation();" title="Remove this system"></i>
									
								</button>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</section>
		<section ng-controller="MeterSingleCtrl" ng-show="currentView === 'Single'">
			<ol class="breadcrumb">
				<li><a href="#" ng-click="showList()">Systems</a></li>
				<li class="active">{{ title }}</li>
			</ol>			
			<div id="single-system-wrapper">
				<div ng-repeat="sensor in sensors" class="sensor-view">
					<div class="range-control">
						<label>From</label>
						<div class="dropdown">
							<a class="dropdown-toggle" id="dropdown{{ $index }}.0" role="button" data-toggle="dropdown" data-target="#" href="#">
								<div class="input-group">
									<input type="text" class="form-control" ng-value="sensor.range[0] | date: 'yyyy-MM-dd HH:mm'">
									<span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
								</div>
							</a>
							<ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
								<datetimepicker 
									data-ng-model="sensor.range[0]" 
									data-on-set-time="onTimeSet(newDate, oldDate)"
									data-datetimepicker-config="{ dropdownSelector: '#dropdown{{ $index }}.0' }"/>
							</ul>
						</div>
					</div>
					<div class="range-control">
						<label>To</label>
						<div class="dropdown">
							<a class="dropdown-toggle" id="dropdown{{ $index }}.1" role="button" data-toggle="dropdown" data-target="#" href="#">
								<div class="input-group">
									<input type="text" class="form-control" ng-value="sensor.range[1] | date: 'yyyy-MM-dd HH:mm'">
									<span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
								</div>
							</a>
							<ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
								<datetimepicker data-ng-model="sensor.range[1]" data-datetimepicker-config="{ dropdownSelector: '#dropdown{{ $index }}.1' }"/>
							</ul>
						</div>
					</div>
					<div class="range-control">
						<button class="btn btn-primary" ng-click="setRange($index)">Select</button>
					</div>
					<highchart config="sensor.chartConfig"></highchart>
				</div>
			</div>
		</section>			
	</div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.2/moment.min.js"></script>
<script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="http://code.highcharts.com/stock/highstock.js"></script>
<script src="js/lib/autobahn.min.jgz"></script>
<script src="js/lib/n3-browser.min.js"></script>
<script src="js/lib/angular.js"></script>
<script src="js/lib/highcharts-ng.js"></script>
<script src="js/lib/datetimepicker.js"></script>
<script src="http://code.highcharts.com/modules/exporting.js"></script>
<script src="js/config.js"></script>
<script src="js/utils/commonUtils.js"></script>
<script src="js/utils/rdfUtils.js"></script>
<script src="js/data-provider.js"></script>
<script src="js/main.js"></script>
</html>
