{
  "workers": [
    {
      "type": "router",
      "realms": [
      {
        "name": "realm1",
        "roles": [
          {
            "name": "anonymous",
            "permissions": [
              {
                "uri": "*",
                "publish": true,
                "subscribe": true,
                "call": true,
                "register": true
              }
            ]
          }
        ]
      }
    ],
    "transports": [
      {
        "type": "websocket",
        "endpoint": {
          "type": "tcp",
          "port": 8080
        },
        "url": "ws://0.0.0.0:8080/ws"
      }
    ]
  }
  ]
}
{
	"version": 2,
	"workers": [
		{
			"type": "router",
			"options": {
				"pythonpath": [
					".."
				]
			},
			"realms": [
				{
					"name": "realm1",
					"roles": [
						{
							"name": "authenticator",
							"permissions": [
								{
									"uri": "ru.semiot.authenticate",
									"match": "exact",
									"allow": {
										"call": false,
										"register": true,
										"publish": false,
										"subscribe": false
									},
									"disclose": {
										"caller": false,
										"publisher": false
									},
									"cache": true
								}
							]
						},
						{
							"name": "internal",
							"permissions": [
								{
									"uri": "*",
									"allow": {
										"publish": true,
										"subscribe": true,
										"call": true,
										"register": true
									},
									"disclose": {
										"caller": false,
										"publisher": false
									},
									"cache": true
								}
							]
						},
						{
							"name": "listener",
							"permissions": [
								{
									"uri": "*",
									"allow": {
										"publish": false,
										"subscribe": true,
										"call": false,
										"register": false
									},
									"disclose": {
										"caller": false,
										"publisher": false
									},
									"cache": true
								}
							]
						}
					]
				}
			],
			"transports": [
				{
					"type": "web",
					"endpoint": {
						"type": "tcp",
						"port": 8080
					},
					"paths": {
						"ws": {
							"type": "websocket",
							"serializers": [
								"json"
							],
							"auth": {
								"ticket": {
									"type": "dynamic",
									"authenticator": "ru.semiot.authenticate"
								}
							}
						}
					}
				}
			],
			"components": [
				{
					"type": "class",
					"classname": "authenticator.AuthenticatorSession",
					"realm": "realm1",
					"role": "authenticator"
				}
			]
		}
	]
}